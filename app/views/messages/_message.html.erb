<div id="message-<%= message.id %>" class = "message mb-3" style = "<%= message.sender?(current_user) ? 'margin-left:20%; border-radius: 25px 0 0 25px;' : ' border-radius: 0 25px 25px 0;'%>">
  <div class="d-flex <%= message.sender?(current_user) ? 'justify-content-end' : 'justify-content-start'%>">
    <p class="small mb-1"><strong><%= message.user.full_name %></strong></p>
    <p class="small mb-1 text-muted ps-2"><i><%= message.created_at.strftime("%e %b, %l:%M %p") %></i></p>
  </div>
  <div class="d-flex flex-row <%= message.sender?(current_user) ? 'justify-content-end' : 'justify-content-start'%>">
    <% if message.sender?(current_user) %>
      <div class = "content">
        <p class="small p-2 ms-3 mb-3 rounded-3" style="background-color: #f5f6f7;"><%= message.content %></p>
      </div>
      <% if message.user.photo.key %>
        <%= cl_image_tag message.user.photo.key, crop: :fill, class:"avatar" %>
      <% else %>
        <%= image_tag "User.svg.png", class:"avatar" %>
      <% end %>
    <% else %>
      <% if message.user.photo.key %>
        <%= cl_image_tag message.user.photo.key, crop: :fill, class:"avatar" %>
      <% else %>
        <%= image_tag "User.svg.png", class:"avatar" %>
      <% end %>
      <div class = "content">
        <p class="small p-2 ms-3 mb-3 rounded-3" style="background-color: #f5f6f7;"><%= message.content %></p>
      </div>
    <% end %>
  </div>
</div>
